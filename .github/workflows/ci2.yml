name: demo2 Caller Workflow

on:
  workflow_dispatch:
    inputs:
      env:
        type: choice
        required: true
        options: [dev, test, prod]
      name:
        type: string
        required: true

jobs:
  call-reusable:
    runs-on: ubuntu-latest

    # ❌ Do NOT put "environment:" here for reusable workflow logic.
    # It protects the CALLER job only — not the reusable workflow’s job.

    steps:
      - name: Call the reusable workflow
        uses: ./.github/workflows/wf2.yml
        with:
          environment: ${{ inputs.env }}
          person_name: ${{ inputs.name }}
